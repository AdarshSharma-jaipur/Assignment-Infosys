<template>
	<template if:true={showSpinner}>
		<lightning-spinner alternative-text="Loading" size="large"></lightning-spinner>
	</template>
	<lightning-layout multiple-rows="true">
		<lightning-layout-item size="12" class="search">
			<lightning-layout>
				<lightning-layout-item size="11">
					<lightning-input name="enter-search" type="search" variant="label-hidden" placeholder="Search Assignment..." onchange={handleSearchRecords}></lightning-input>
				</lightning-layout-item>
				<lightning-layout-item size="1" class="slds-text-align_right">
					<lightning-button label="New" title="New Assignment" onclick={handleNewAssignment} class="slds-m-left_x-small"></lightning-button>
				</lightning-layout-item>
			</lightning-layout>
		</lightning-layout-item>
		<lightning-layout-item size="12">
			<div style="height: 400px;">
				<lightning-datatable key-field="id" 
                                    data={assignments} 
                                    columns={columns} 
                                    onrowaction={handleRowAction}
									enable-infinite-loading
            						onloadmore={handleLoadMoreData}
									hide-checkbox-column="true"
                    				show-row-number-column="true">
				</lightning-datatable>
			</div>
		</lightning-layout-item>
	</lightning-layout>
	<template if:true={showAssigmentPopup}>
		<c-assignment-form selected-assignment={selectedAssignment} onclose={handleClose}></c-assignment-form>
	</template>
</template>